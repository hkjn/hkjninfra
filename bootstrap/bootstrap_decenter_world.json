{"systemd": {"units": [{"enable": true, "name": "tclient.service", "contents": "[Unit]\nDescription=tclient\nAfter=network-online.target\n\n[Service]\nEnvironment=PATH=/usr/bin/:/opt/bin:/bin\nEnvironment=REPORT_ADDR=mon.hkjn.me:50051\nEnvironment=REPORT_FACTS_PATH=/etc/report_facts.json\nExecStartPre=-/bin/bash -c \"gather_facts > /etc/report_facts.json\"\nExecStart=/bin/bash -c tclient\n\n[Install]\nWantedBy=multi-user.target\n"}, {"enable": true, "name": "tclient.timer", "contents": "[Unit]\nDescription=Timer that starts report_client.service\n\n[Timer]\n# Run every 5 min.\nOnCalendar=*:0/5\nPersistent=true\n\n[Install]\nWantedBy=multi-user.target\n"}, {"enable": true, "name": "decenter.service", "contents": "[Unit]\nDescription=decenter.world server\nAfter=network-online.target\n\n[Service]\nEnvironment=PATH=/usr/bin/:/opt/bin:/bin\nEnvironment=DECENTER_WORLD_ADDR=:443\nExecStart=/usr/bin/bash -c \"decenter_world\"\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n \n"}, {"enable": true, "name": "decenter_redirector.service", "contents": "[Unit]\nDescription=decenter.world redirector server\n\nAfter=network-online.target\n\n[Service]\nEnvironment=PATH=/usr/bin/:/opt/bin:/bin\nExecStart=/usr/bin/bash -c \"decenter_redirector\"\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n"}, {"enable": true, "name": "etc-secrets.mount", "contents": "[Mount]\nWhat=/dev/disk/by-id/scsi-0Google_PersistentDisk_persistent-disk-1\nWhere=/etc/secrets\nType=ext4\n\n[Install]\nRequiredBy=local-fs.target\n"}], "passwd": {}, "networkd": {}}, "storage": {"files": [{"group": {}, "user": {}, "filesystem": "root", "path": "/etc/coreos/update.conf", "contents": {"source": "data:,GROUP%3Dbeta%0AREBOOT_STRATEGY%3D%22etcd-lock%22", "verification": {}}, "mode": 420}, {"group": {}, "user": {}, "filesystem": "root", "path": "/opt/bin/gather_facts", "contents": {"source": "https://github.com/hkjn/hkjninfra/releases/download/1.3.4/gather_facts", "verification": {"hash": "sha512-ff7bdbfb8fe387144529e658d04bcf78e8d4f10f36b82b78892be845b4c40b68112c35f36ea05df3d79969319dba29b2caed123f29245038ad0efa68b4a5de4d"}}, "mode": 493}, {"group": {}, "user": {}, "filesystem": "root", "path": "/opt/bin/tclient", "contents": {"source": "https://github.com/hkjn/hkjninfra/releases/download/1.3.4/tclient_x86_64", "verification": {"hash": "sha512-55392d3e1405f005271bf9187747de4dc0493388b419ab21969f569bad036a7a91d0cd377402099a8c590622fc4f75d1c3b7c12429c0db03d77f6e460478ab66"}}, "mode": 493}, {"group": {}, "user": {}, "filesystem": "root", "path": "/opt/bin/decenter_world", "contents": {"source": "https://github.com/hkjn/decenter.world/releases/download/1.1.5/decenter_world_x86_64", "verification": {"hash": "sha512-ce1ebb0b0192b61a6d94eba19db94d8fc4dbb72e8188ac69cc1c88e209f68ae9c57d32b07287abbc4149439ae41ba1f519bd4360dc3b8c7add47f65a52d33dab"}}, "mode": 493}, {"group": {}, "user": {}, "filesystem": "root", "path": "/opt/bin/decenter_redirector", "contents": {"source": "https://github.com/hkjn/decenter.world/releases/download/1.1.5/decenter_redirector_x86_64", "verification": {"hash": "sha512-735b7d08a457918eadfc049cc0063466756a7684bb5bd7cc660afcc4660a87d8685fca361e4b01678a0f01aea79f6831b9f1ca1c184bd44a7a2a63cb2b534d7c"}}, "mode": 493}], "filesystem": []}, "ignition": {"version": "2.0.0", "config": {}}}