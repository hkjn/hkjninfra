{"systemd": {"units": [{"enable": true, "name": "report_client.service", "contents": "[Unit]\nDescription=report client\nAfter=network-online.target\n\n[Service]\nEnvironment=PATH=/usr/bin/:/opt/bin:/bin\nEnvironment=REPORT_ADDR=mon.hkjn.me:50051\nEnvironment=REPORT_FACTS_PATH=/etc/report_facts.json\nExecStartPre=-/bin/bash -c \"gather_facts > /etc/report_facts.json\"\nExecStart=/bin/bash -c report_client\n\n[Install]\nWantedBy=multi-user.target\n\n"}, {"enable": true, "name": "report_client.timer", "contents": "[Unit]\nDescription=Timer that starts report_client.service\n\n[Timer]\n# Run every 5 min.\nOnCalendar=*:0/5\nPersistent=true\n\n[Install]\nWantedBy=multi-user.target\n"}, {"enable": true, "name": "decenter.service", "contents": "[Unit]\nDescription=decenter.world server\nAfter=network-online.target\n\n[Service]\nEnvironment=PATH=/usr/bin/:/opt/bin:/bin\nEnvironment=DECENTER_WORLD_ADDR=:443\nExecStart=/usr/bin/bash -c \"decenter_world\"\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n"}, {"enable": true, "name": "decenter_redirector.service", "contents": "[Unit]\n Description=decenter.world redirector server\n After=network-online.target\n\n [Service]\n Environment=PATH=/usr/bin/:/opt/bin:/bin\n ExecStart=/usr/bin/bash -c \"decenter_redirector\"\n Restart=always\n\n [Install]\n WantedBy=multi-user.target\n"}, {"enable": true, "name": "etc-secrets.mount", "contents": "[Mount]\nWhat=/dev/disk/by-id/scsi-0Google_PersistentDisk_persistent-disk-1\nWhere=/etc/secrets\nType=ext4\n\n[Install]\nRequiredBy=local-fs.target\n"}], "passwd": {}, "networkd": {}}, "storage": {"files": [{"group": {}, "user": {}, "filesystem": "root", "path": "/etc/coreos/update.conf", "contents": {"source": "data:,GROUP%3Dbeta%0AREBOOT_STRATEGY%3D%22etcd-lock%22", "verification": {}}, "mode": 420}, {"group": {}, "user": {}, "filesystem": "root", "path": "/opt/bin/gather_facts", "contents": {"source": "https://github.com/hkjn/hkjninfra/releases/download/1.2.4/gather_facts", "verification": {"hash": "sha512-55bb96874add4d200274cf1796c622da8e92244ad5b5fa15818bc516c5ed249e9cd98a736d44b66c7e03ca2b52e5aa898717fbd7d08ff13cd94de38ba2aef8c8"}}, "mode": 493}, {"group": {}, "user": {}, "filesystem": "root", "path": "/opt/bin/report_client", "contents": {"source": "https://github.com/hkjn/hkjninfra/releases/download/1.2.4/tclient_x86_64", "verification": {"hash": "sha512-c835d3d44c4d23584f983ca345b2cae1b0df674753df1626391da8a7e54aebbe48895f5910e772683013d749afb1ef45c0347ec8cb3634757279fdf54efdca25"}}, "mode": 493}, {"group": {}, "user": {}, "filesystem": "root", "path": "/opt/bin/decenter_world", "contents": {"source": "https://github.com/hkjn/decenter.world/releases/download/1.1.5/decenter_world_x86_64", "verification": {"hash": "sha512-ce1ebb0b0192b61a6d94eba19db94d8fc4dbb72e8188ac69cc1c88e209f68ae9c57d32b07287abbc4149439ae41ba1f519bd4360dc3b8c7add47f65a52d33dab"}}, "mode": 493}, {"group": {}, "user": {}, "filesystem": "root", "path": "/opt/bin/decenter_redirector", "contents": {"source": "https://github.com/hkjn/decenter.world/releases/download/1.1.5/decenter_redirector_x86_64", "verification": {"hash": "sha512-735b7d08a457918eadfc049cc0063466756a7684bb5bd7cc660afcc4660a87d8685fca361e4b01678a0f01aea79f6831b9f1ca1c184bd44a7a2a63cb2b534d7c"}}, "mode": 493}], "filesystem": []}, "ignition": {"version": "2.0.0", "config": {}}}