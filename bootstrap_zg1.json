{"networkd": {}, "passwd": {}, "systemd": {"units": [{"enable": true, "name": "bitcoin.service", "contents": "[Unit]\nDescription=bitcoind\nAfter=network-online.target\n\n[Service]\nExecStartPre=-/bin/bash -c \"docker pull hkjn/bitcoin:$(uname -m)\"\nExecStartPre=-/usr/bin/docker stop bitcoin\nExecStartPre=-/usr/bin/docker rm bitcoin\nExecStart=/bin/bash -c \" \\\n  docker run --name bitcoin \\\n             -p 8333:8333 \\\n             --memory=1050m \\\n             --cpu-shares=128 \\\n             -v /containers/bitcoin:/home/bitcoin/.bitcoin \\\n             hkjn/bitcoin:$(uname -m)\"\nRestart=always\n\n[Install]\nWantedBy=network-online.target\n"}, {"enable": true, "name": "report_client.service", "contents": "[Unit]\nDescription=report client\nAfter=network-online.target\n\n[Service]\nEnvironment=PATH=/usr/bin/:/opt/bin:/bin\nEnvironment=REPORT_ADDR=mon.hkjn.me:50051\nEnvironment=REPORT_NAME=%H\nEnvironment=REPORT_FACTS_PATH=/etc/report/facts.json\nEnvironment=VERSION=1.5.7\nExecStartPre=/usr/bin/mkdir -p /etc/report\nExecStartPre=-/bin/bash -c \"gather_facts > /etc/report/facts.json\"\nExecStart=/bin/bash -c report_client\n\n[Install]\nWantedBy=network-online.target\n"}, {"enable": true, "name": "containers.mount", "contents": "[Mount]\nWhat=/dev/disk/by-id/scsi-0Google_PersistentDisk_persistent-disk-1-part1\nWhere=/containers\nType=xfs\n\n[Install]\nRequiredBy=local-fs.target\n"}]}, "storage": {"files": [{"group": {}, "user": {}, "filesystem": "root", "path": "/opt/bin/gather_facts", "contents": {"source": "https://raw.githubusercontent.com/hkjn/junk/master/prototest/gather_facts", "verification": {"hash": "sha512-adb4105abef8d0604417009ecc0b7863ddf5a91cbbe4e17a0fed0ffccd83f8eb49957f396ed7eb10c533d9ea11eae8eb76e2a1144809db2c1c59894d21b6f61c"}}, "mode": 493}, {"group": {}, "user": {}, "filesystem": "root", "path": "/opt/bin/report_client", "contents": {"source": "https://github.com/hkjn/junk/releases/download/1.5.10/report_client_x86_64", "verification": {"hash": "sha512-f8eae52ca28902ef2f675378143464f7e0e4847066d2b2cc3170bb758819ede4aad8a4a641be1037cb924812de88f5ef0eb6db46a69810cd3dcf0c3ced6f4f08"}}, "mode": 493}, {"group": {}, "user": {}, "filesystem": "root", "path": "/etc/coreos/update.conf", "contents": {"source": "data:,GROUP%3Dbeta%0AREBOOT_STRATEGY%3D%22etcd-lock%22", "verification": {}}, "mode": 420}]}, "ignition": {"version": "2.0.0", "config": {}}}
